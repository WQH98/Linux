### 一、C语言运行环境构建

#### 1、设置处理器模式

​	设置6ULL处于SVC模式下，设置CPSR寄存器的bit4~0，也就是M[4:0]为10011 = 0x13。
​	读写状态寄存器需要用到MRS和MSR指令。MRS指令将CPSR寄存器数据读出到通用寄存器里面，MSR指令将通用寄存器的值写入到CPSR寄存器中。

#### 2、设置sp指针（栈指针）

​	sp可以指向内部RAM，也可以指向DDR，我们将其指向DDR。
​	sp指针指向那里？正点原子的开发版，512MB DDR的范围是0x80000000~0x9FFFFFFF。栈大小：0x200000 = 2MB。
​	处理器栈增长方式，对于A7而言是向下增长的。设置sp指针指向0x80200000。

#### 3、跳转到C语言

​	使用b指令，跳转到C语言函数，比如main函数。

### 二、链接脚本

​	链接脚本描述了要链接的文件以及链接的顺序和链接首地址。