##### 一、7种文件类型

###### 1、普通文件

普通文件可以分为两大类：文本文件和二进制文件。

###### 2、目录文件

目录就是文件夹，文件夹在Linux系统中也是一种文件，是一种特殊文件。

###### 3、字符设备文件和块设备文件

###### 4、符号链接文件

符号链接文件类似于windows系统中的快捷方式文件，是一种特殊文件，他的内容指向的是另一个文件路径。

###### 5、管道文件

管道文件主要用于进程间通信。

###### 6、套接字文件

套接字文件也是一种进程间通信的方式，与管道文件不同的是，它们可以在不同主机上的进程间通信，实际上就是网络通信。

##### 二、获取文件属性：stat函数

###### 原型：

```c
// pathname：文件路径
// struct stat 结构体指针
// 返回值：成功返回0 失败返回-1 并设置errno变量
int stat(const char *pathname, struct stat *buf);
```

##### 三、获取文件属性：fstat和lstat函数

###### fstat原型：

```c
int fstat(int fd, struct stat *buf);
```

###### lstat原型：

```c
int lstat(const char *pathname, struct stat *buf);
```

##### 四、文件属主

###### 1、用户和用户组

Linux是一个多用户操作系统，系统中一般存放着好几个不同的用户，而Linux系统中的每一个文件都有一个与之相关联的用户和用户组，通过这个信息可以判断文件的所有者和所属组。
文件所有者表示该文件属于“谁”，也就是属于哪个用户。
文件所属组表示该文件属于哪一个用户组。

###### 2、用户ID组ID

实际用户ID、实际组ID、有效用户ID、有效组ID、附属组ID

###### 3、chown()函数

```c
int chown(const char *pathname, uid_t owner, gid_t group);
```

###### 4、fchown()函数和lchown()函数

```c
int fchown(int fd, uid_t owner, gid_t group);
int lchown(const char *pathname, uid_t owner, gid_t group);
```

##### 五、文件访问权限

###### 普通权限和特殊权限

文件的权限可以分为两大类，分别是普通权限和特殊权限（也可称为附加权限）。普通权限包括对文件的读、写以及执行，而特殊权限则包括一些对文件的附加权限，譬如Set-IUser-ID、Set-Group-ID以及Sticky。

###### 目录权限

只有对目录有读、写、执行权限，才可以对目录下的文件有读、写、执行权限。

###### 权限检查：access()函数

```c
/*
	pathname：需要进行权限检查的文件路径
	mode：该参数可以取以下值
		F_OK：检查文件是否存在
		R_OK：检查是否拥有读权限
		W_OK：检查是否拥有写权限
		X_OK：检查是否拥有执行权限
	以上值除了单独使用外，还可以使用按位或运算符“|”组合在一起。
	返回值：检查通过返回0，不通过返回-1。
*/
int access(const char *pathname, int mode);
```

###### 权限修改：chmod()函数

```c
/*
	pathname：需要进行权限修改的文件路径，若该参数所指为符号链接，实则改变权限的是文件的符号链接文件，而不是文件本事。
	mode：用于描述文件权限，与open函数的第三个参数一样。可以直接使用8进制，也可以使用相应的宏。
	返回值：成功返回0，失败返回-1，并设置errno。
	文件权限对文件来说是非常重要的属性，不能随便被任何用户修改，想要更改文件权限，要么是文件所有者，要么是root用户。
*/
int chmod(const char *pathname, mode_t mode);
```

###### umask

##### 六、文件的时间戳

###### 三个时间属性

st_atim、st_mtim以及st_ctim
文件最后被访问的时间、文件内容最后被修改的时间、文件状态最后被修改的时间。

###### 修改时间属性

只能修改文件的最后一次访问时间和文件内容最后被修改的时间，不能显式修改文件状态最后被修改的时间。

```c
/* 
	filename：需要修改的文件路径。
	times：将时间属性修改为该参数所指定的时间值。
	返回值：成功返回0，失败返回-1，并设置errno。
	只有以下三种方法可以修改文件时间属性：
		root进程
		文件所有者进程
		在参数times等于NULL的情况下，对文件拥有写权限的进程
*/
int utime(const char *filename, const struct utimbuf *times);
```



###### 修改时间属性：

futimens()和utimensat()
